<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>AngularJS note app</title>
    <link href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <!--<script src="http://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>-->

</head>
<body ng-app="myApp">

    <div class="container" ng-controller="mainController">
        <div class="panel panel-default">
            <div class="panel-heading">ng-validation</div>
            <div class="panel-body" ng-controller="validationController">
                <form name="formA" novalidate ng-submit="saveuser()">

                    <div class="form-group">
                        <label for="">First Name:</label>
                        <input class="form-control" type="text" name="firstname" ng-model="user.firstname" ng-required="true" ng-minlength="2" ng-model-options="{updateOn: 'blur'}"/>
                        <p class="bg-danger" ng-show="formA.firstname.$dirty && formA.firstname.$error.required">The firstname is mandatory!</p>
                        <p class="bg-danger" ng-show="formA.firstname.$dirty && formA.firstname.$error.minlength">The firstname should be minium 2 characters</p>
                    </div>

                    <div class="form-group">
                        <label for="">Last Name:</label>
                        <input class="form-control" type="text" name="lastname" ng-model="user.lastname" ng-required="true" ng-minlength="2"/>
                        <p class="bg-danger" ng-show="formA.lastname.$dirty && formA.lastname.$error.required">The lastname is mandatory!</p>
                        <p class="bg-danger" ng-show="formA.lastname.$dirty && formA.lastname.$error.minlength">The lastname should be minium 2 characters</p>
                    </div>

                    <div class="form-group">
                        <label for="">Phone No.:</label>
                        <input class="form-control" type="text" name="phoneNumber" ng-model="user.phoneNumber" ng-maxlength="10" ng-minlength="10" ng-pattern="/^\d{10}$/"/>
                        <p class="bg-danger" ng-show="formA.phoneNumber.$dirty && formA.phoneNumber.$invalid">The phone number field should be of 10 digist</p>
                    </div>

                    <input type="submit" value="Save" class="btn btn-success"/>

                </form>
            </div>
        </div>
    </div>


    <!-- angular -->
    <link href="http://cdn.bootcss.com/angular.js/1.3.15/angular-csp.css" rel="stylesheet">
    <script src="http://cdn.bootcss.com/angular.js/1.3.15/angular.min.js"></script>
    <script src="http://cdn.bootcss.com/angular-ui-router/0.2.14/angular-ui-router.min.js"></script>


    <script>
        angular.module('myApp',[])
            .controller('mainController',function() {
            	console.log('mainController...');
            })
            .controller('validationController',function($scope) {
            	$scope.user = {};

                $scope.saveuser = function() {
                	if( $scope.formA.$valid ) {
                        console.log('saving user'); //save $scope.user object
                    } else {
                        console.log('Unable to save user. Validation error');
                    }
                }
            })
    </script>

</body>
</html>